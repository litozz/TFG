<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>

	<meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Algoritmos de Búsqueda informada en inteligencia artificial.</title>

    <script type="text/javascript" src="vis-4.18.1/dist/vis.js"></script>
    <!--<script src="./jquery.min.js"></script>importar jQuery-->
    <link href="../../../dist/vis-network.min.css" rel="stylesheet" type="text/css"/>
    
    <script type="text/javascript" src="./grafo.js"></script>
    <script type="text/javascript" src="./algorithms.js"></script> <!--biblioteca algoritmos--> 
    <script type="text/javascript" src="./interface_handler.js"></script> <!--manejador de interfaz-->

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
    
	<script type="text/javascript">
		//Function for change active tabs in topmenu.
		$(document).ready(function () {
		    $('nav li a').click(function(e) {
		    	//Remove active class to actual active <li>
				$('nav li.selected').removeClass('selected');
				//Get the li element parten of this (this is an <a> tag)
				var $parent = $(this).parent();
				//Added active class to correct <li> element
				$parent.addClass('selected');
				//If prevent default is called, default event (href) will not take effect.
				e.preventDefault();
		    });
		});
	</script>

	<link rel="stylesheet" type="text/css" href="estilo.css">
    
</head>

<body onload="ih=new Interface_Handler();">

<header>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid row upper-menu">
			<div class="col-md-3 upper-menu-title">
				<div class="navbar-header">
					<a class="navbar-brand" href="./index.html">IA Searching Algorithms</a>
				</div>
			</div>
			<div class="col-md-5 upper-menu-options">
				<ul class="nav navbar-nav">
					<li><a id="despliegue_dibujar">Dibujar/Editar Grafo</a></li>
					<li><a id="despliegue_importar">Importar Grafo</a></li>
				</ul>
			</div>
			<div class="col-md-4">
				<div class="row">
					<div class="col-md-6 logo-col">
						<a href="http://decsai.ugr.es/">
							<img class="img-responsive top-menu-logo col-md-12" src="img/decsai_logo.redimensionado.jpg" alt="decsai_logo"/>
						</a>
					</div>
					<div class="col-md-6 logo-col">
						<a href="http://www.ugr.es/">
							<img class="img-responsive top-menu-logo col-md-12" src="img/ugr_logo.redimensionado.jpeg" alt="ugr_logo"/>
						</a>
					</div>
				</div>
				
			</div>
			<!--<div class="col-md-2" align="right">
				<a href="http://decsai.ugr.es/">
					<img class="img-responsive top-menu-logo" src="img/ugr_logo.jpeg" alt="ugr_logo"/>
				</a>
			</div>-->
		</div>
		<div class="container-fluid sub-menu-options">
			<ul class="nav nav-tabs">
				<li><a id="export-network" onclick="ih.exportNetwork();">Exportar grafo</a></li>
				<li><a id="generate-heuristic" onclick="ih.showDivGenerateHeuristic();">Generar Heurística</a></li>
				<li><a id="end-network" onclick="ih.goResolutionMode();">Ir al modo resolver grafo</a></li>
				<li><a id="close-resolution-mode" onclick="ih.closeResolutionMode();">Cerrar modo resolver grafo</a></li>
			</ul>
		</div>
	</nav>
<!--<nav>
	<a href="http://decsai.ugr.es/"><img src="img/decsai_logo.jpg" alt="decsai_logo"/></a>
	<ul>
		<li><a id="despliegue_dibujar">Dibujar/Editar Grafo</a></li>
		<li><a id="despliegue_importar">Importar Grafo</a></li>
	</ul>
	<div id="submenu">
		<ul>
			<li id="export-network" onclick="ih.exportNetwork();"><a>Exportar grafo</a></li>
			<li id="generate-heuristic" onclick="ih.showDivGenerateHeuristic();"><a>Generar heurística</a></li>
			<li id="end-network" onclick="ih.goResolutionMode();"><a>Ir al modo resolver grafo</a></li>
			<li id="close-resolution-mode" onclick="ih.closeResolutionMode();"><a>Cerrar modo resolver grafo</a></li>
		</ul>
	</div>
</nav>-->


</header>

<!--<br/>
<br/>
<br/>
<br/>
<br/>
<br/>-->

<div class="container">
	<div id="principal">
		<div id="network-form-div">
			<div class="row">
				<div class="alert alert-info alert-dismissable fade in">
					<a  class="close" data-dismiss="alert" aria-label="close">&times;</a>
					<p>Introduzca los parámetros necesarios para crear el grafo. En este modo de creación podemos crear un grafo añadiendo los nodos y las uniones uno a uno.</p>
				</div>
				<!--<div class="col-md-12">
					<p>Introduzca los parámetros necesarios para crear el grafo. En este modo de creación podemos crear un grafo añadiendo los nodos y las uniones uno a uno.</p>
				</div>-->
			</div>
			<div class="row">
				<div id="network-form-div-node" class="col-md-6 form-group">
					<h2>Nodo</h2>
					<div class="row">
						<label for="node-id" class="control-label col-md-6">Identificador del nodo</label>
						<div class="col-sm-6">
							<!--<input type="email" class="form-control" id="email" placeholder="Enter email" name="email">-->
							<input id="node-id" type="text" value="" class="form-control">
						</div>
					</div>
					
					<div class="row">				
						<label for="node-heuristic" class="control-label col-md-6">Valor heurístico</label>
						<div class="col-sm-6">
							<input id="node-heuristic" type="number" min="0" value="" class="form-control">
						</div>
					</div>
					
					<div class="checkbox">
						<label><input type="checkbox" name="initial" id="cb_initial_node" value="initial">Es nodo inicial</label>
					</div>
					
					<div class="checkbox">
						<label><input type="checkbox" name="initial" id="cb_final_node" value="end">Es nodo final</label>
					</div>

					<button id="node-add" onclick="ih.addNode();" class="btn btn-primary">Insertar</button>
					<button id="node-update" onclick="ih.updateNode();" class="btn btn-primary">Actualizar</button>
					<button id="node-remove" onclick="ih.removeNode();" class="btn btn-primary btn-danger">Eliminar</button>
				</div>

				<div id="network-form-div-edge" class="col-md-6 form-group">
					<h2>Arista</h2>

					<div class="row">
						<label for="edge-from" class="control-label col-md-6">Desde</label>
						<div class="col-sm-6">
							<input id="edge-from" type="text" value="" class="form-control">
						</div>
					</div>
					
					<div class="row">
						<label for="edge-to" class="control-label col-md-6">Hasta</label>
						<div class="col-sm-6">
							<input id="edge-to" type="text" value="" class="form-control">
						</div>
					</div>


					<div class="row">
						<label for="edge-cost" class="control-label col-md-6">Coste</label>
						<div class="col-sm-6">
							<input id="edge-cost" type="number" min="0" value="" class="form-control">
						</div>
					</div>											
					
					<div class="checkbox">
						<label><input type="checkbox" id="cb_directed_edge" value="directed">Es arista dirigida</label>
					</div>
									
					<button id="edge-add" onclick="ih.addEdge();" class="btn btn-primary">Insertar</button>
					<button id="edge-update" onclick="ih.updateEdge();" class="btn btn-primary">Actualizar</button>
					<button id="edge-remove" onclick="ih.removeEdge();" class="btn btn-primary btn-danger">Eliminar</button>
				</div>
			</div>
		</div>


		<div id="import-network-div">
			<div class="row">
				<div class="alert alert-info alert-dismissable fade in">
					<a  class="close" data-dismiss="alert" aria-label="close">&times;</a>
					<p>Importar un archivo. Si previamente exportó un archivo de este generador, puede importarlo desde aquí.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-4">
					<input type="file" id="import-network-input" name="datafile" class="btn btn-default btn-file"/>
				</div>
				<div class="col-sm-8">
					<button id="import-network-btn" onclick="ih.importNetwork();" class="btn btn-primary">Importar grafo</button>
				</div>
			</div>
		</div>
	</div>





	<hr/>

	<div id="resolution">
		<div class="row">
			<div class="col-md-12 text-center">
				<h1>Resolución del grafo</h1>
			</div>
		</div>

		<div class="row">
			<div id="actual-state" class="col-md-6">
				<h3 id="act-estate-algorithm-name">Estado actual del grafo</h3>
                <div id="solution_network" class="network_box"></div>
                <div class="alert alert-info alert-dismissable fade in">
					<a  class="close" data-dismiss="alert" aria-label="close">&times;</a>
					<p>
					Los nodos <span class="info_color_ini">rojos</span> indican <span class="info_color_ini">nodos iniciales</span>.<br>Los nodos <span class="info_color_fin">verdes</span> indican <span class="info_color_fin">nodos finales</span>.<br>
					</p>
				</div>
			</div>
			

			<div id="select-algorithm" class="col-md-6">
				<h2>&nbsp;</h2>
				<div class="row">
					<label for="algorithm-select" class="control-label col-md-6">Algoritmo de búsqueda: </label>
					<div class="col-md-6">
						<select id="algorithm-select" onchange="ih.checkMaxProf();" class="form-control">
							<option value="deep-search">Búsqueda en profundidad</option> 				
							<option value="wide-search">Búsqueda en anchura</option>					
							<option value="iterative-descent">Descenso iterativo</option>				
							<option value="astar">A*</option>											
							<option value="uniform-cost">Búsqueda de costo uniforme (Dijkstra)</option>	
							<option value="retroactive-search">Búsqueda retroactiva</option>			
							<option value="simple-climbing">Escalada simple</option>					
							<option value="max-climbing">Escalada por la máxima pendiente</option>		   
						</select>
					</div>
				</div>


				<div class="row"><div class="col-md-12">&nbsp;</div></div>

				<div class="row">
					<label for="max_iter_bound" class="control-label col-md-6"> Limite de iteraciones: </label>
					<div class="col-sm-6">
						<input id="max_iter_bound" type="number" min="1" max="1000" value="" class="form-control" required>
					</div>
				</div>
				
				<div id="max_prof_div" class="row">
					<label for="max_prof" class="control-label col-md-6"> Profundidad máxima: </label>
					<div class="col-sm-6">
						<input id="max_prof" type="number" min="1" max="50" value="" class="form-control">
					</div>
				</div>

				<button id="solve-button" onclick="ih.solveNetwork();" class="btn btn-success btn-lg">Resolver</button><br/>
				
			</div>
			

			<div id="control-buttons" class="col-md-6">
				<h2>&nbsp;</h2>
				<div class="btn-group">
					<button id="go-first-step" class="algselectionbtn btn btn-primary" onclick="ih.solutionFirstStep();">
						<span class="glyphicon glyphicon-repeat"></span>&nbsp;Ir al principio
					</button>

					<button id="step-back" class="algselectionbtn btn btn-primary" onclick="ih.solutionStepBack();">
						<span class="glyphicon glyphicon-backward"></span>&nbsp;Paso atras
					</button>

					<button id="step-fordward" class="algselectionbtn btn btn-primary" onclick="ih.solutionStepForward();">
						<span class="glyphicon glyphicon-forward"></span>&nbsp;Paso adelante
					</button>
					
					
					<button id="go-last-step" class="algselectionbtn btn btn-primary" onclick="ih.solutionLastStep();">
						<span class="glyphicon glyphicon-ok"></span>&nbsp;Ir al final
					</button>
				</div>
				<textarea id="textarea-openclosed" rows="5" readonly></textarea><br/>
				<textarea id="textarea-explanation" rows="20" readonly></textarea><br/>
				<button id="go-select-algorithm" onclick="ih.backToSelectAlgorithm();" class="btn btn-primary">Cambiar el algoritmo</button>
			</div>
		</div>
	</div>

	<div id="heuristic-generation">
		<div class="row">
			<div class="col-md-6">
				<div class="row">
					<label for="min-changes-bound" class="control-label col-md-6"> Número mínimo de cambios: </label>
					<div class="col-md-6">
						<input id="min-changes-bound" type="number" min="0" max="100" value="" required class="form-control">
					</div>
				</div>
				<div class="row">
					<label for="max-changes-bound" class="control-label col-md-6"> Número máximo de cambios: </label>
					<div class="col-md-6">
						<input id="max-changes-bound" type="number" min="0" max="100" value="" required class="form-control">
					</div>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="cb_admisible_heur" id="cb_admisible_heur" value="" onchange="ih.admisibleHeurChange();">Generar heurística admisible
					</label>						
				</div>
			</div>	
		</div>
		
		
		
		<button id="btn-generate-heuristic" class="algselectionbtn btn btn-primary" onclick="ih.generateHeuristic();">Generar heurística</button>
		
	</div>

	<hr/>

	<div id="network-data">
		<div class="row">
			<div class="col-md-12 text-center">
				<h1>Datos del grafo</h1>
			</div>
		</div>
		<div class="row">
			<div id="col-network-data" class="col-md-4">
				<h3>Resto de datos</h3>
				<pre id="rest-of-data-div"></pre>
			</div>
			<div id="col-network-draw" class="col-md-8">
				<h3>Representación gráfica del grafo</h3>
	            <div id="network" class="network_box"></div>
	            <div class="alert alert-info alert-dismissable fade in">
					<a  class="close" data-dismiss="alert" aria-label="close">&times;</a>
					<p>
					Los nodos <span class="info_color_ini">rojos</span> indican <span class="info_color_ini">nodos iniciales</span>.<br>Los nodos <span class="info_color_fin">verdes</span> indican <span class="info_color_fin">nodos finales</span>.<br>
					</p>
				</div>
			</div>
		</div>
		<!--<h1>Datos del grafo</h1>
		<table class="view">
		    <colgroup>
		        <col id="col-network-data">
		        <col id="col-network-draw">
		    </colgroup>
		    <tr>

		        <td>
		            <h2>Resto de datos</h2>
		            <pre id="rest-of-data-div"></pre>
		        </td>

		        <td>
		            <h2>Representación gráfica del grafo</h2>
		            <div id="network" class="network_box"></div>
		            Los nodos <span class="info_color_ini">rojos</span> indican <span class="info_color_ini">nodos iniciales</span>.<br/>
					Los nodos <span class="info_color_fin">verdes</span> indican <span class="info_color_fin">nodos finales</span>.<br/>
		        </td>
		    </tr>
		</table>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>-->
	</div>
</div>

<footer id="footer" class="footer navbar-fixed-bottom">
		<p>José Carlos Martínez Velázquez - Trabajo fin de Grado: Algoritmos de Búsqueda informada en inteligencia artificial. Universidad de Granada.</p>
</footer>

</body>
</html>